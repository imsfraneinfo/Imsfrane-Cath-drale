<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réservation · Imsfrane Cathédrale</title>
    
    <!-- META TAGS -->
    <meta name="description" content="Réservez vos activités à Imsfrane Cathédrale : Camping sauvage, Randonnée du sommet 1868m, VTT, Rafting">
    <meta name="keywords" content="réservation, Imsfrane, Cathédrale, camping, randonnée, VTT, rafting, Atlas">
    <meta name="author" content="Imsfrane Cathédrale">
    
    <!-- FAVICON -->
    <link rel="icon" type="image/jpeg" href="images/logo.jpeg">
    
    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        /* ===== STYLES SPÉCIFIQUES À LA RÉSERVATION ===== */
        .booking-hero {
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            overflow: hidden;
            margin-top: 80px;
        }
        
        .booking-hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .booking-hero-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.5);
            transition: transform 10s ease;
        }
        
        .booking-hero:hover .booking-hero-bg img {
            transform: scale(1.1);
        }
        
        .booking-hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.8) 100%);
            z-index: 2;
        }
        
        .booking-hero-content {
            position: relative;
            z-index: 10;
            animation: fadeInUp 1s ease;
        }
        
        .booking-hero-content h1 {
            font-size: 64px;
            margin-bottom: 20px;
            font-family: 'Cormorant Garamond', serif;
            text-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .booking-hero-content p {
            font-size: 20px;
            opacity: 0.9;
        }
        
        /* ===== BOOKING SECTION ===== */
        .booking-section {
            padding: 60px 0;
            background: var(--light);
        }
        
        .booking-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            margin-top: 40px;
        }
        
        .booking-form {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(198,164,63,0.1);
        }
        
        .booking-form h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .form-subtitle {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        .booking-summary {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(198,164,63,0.1);
            position: sticky;
            top: 100px;
            height: fit-content;
        }
        
        .booking-summary h3 {
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        /* ===== CART ITEMS ===== */
        .cart-items {
            min-height: 100px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
            border: 2px dashed #f0f0f0;
            border-radius: 12px;
        }
        
        .cart-empty i {
            font-size: 50px;
            color: #ddd;
            margin-bottom: 15px;
        }
        
        .cart-item {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(198,164,63,0.2);
            position: relative;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-right: 30px;
        }
        
        .cart-item-title {
            font-weight: 700;
            color: var(--dark);
            font-size: 16px;
        }
        
        .cart-item-price {
            color: var(--gold);
            font-weight: 700;
            font-size: 18px;
        }
        
        .cart-item-details {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: var(--gray);
        }
        
        .cart-item-details i {
            color: var(--gold);
            margin-right: 5px;
        }
        
        .cart-item-remove {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #E74C3C;
            cursor: pointer;
            font-size: 16px;
            transition: var(--transition);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cart-item-remove:hover {
            background: #E74C3C;
            color: white;
            transform: rotate(90deg);
        }
        
        .add-activity-btn {
            background: white;
            border: 2px dashed var(--gold);
            color: var(--gold);
            padding: 18px;
            border-radius: 16px;
            width: 100%;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            margin: 25px 0 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 16px;
        }
        
        .add-activity-btn:hover {
            background: rgba(198,164,63,0.1);
            border-style: solid;
            transform: translateY(-2px);
        }
        
        /* ===== SUMMARY ITEMS ===== */
        .summary-items {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 14px;
        }
        
        .summary-item span:first-child {
            color: var(--gray);
        }
        
        .summary-item span:last-child {
            font-weight: 600;
            color: var(--dark);
        }
        
        .summary-total {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            font-weight: 600;
        }
        
        .summary-total .amount {
            font-size: 28px;
            font-weight: 900;
            color: var(--gold);
        }
        
        /* ===== ACTIVITY MODAL ===== */
        .activity-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            padding: 20px;
        }
        
        .activity-modal.active {
            display: flex;
        }
        
        .activity-modal-content {
            background: white;
            width: 90%;
            max-width: 550px;
            max-height: 85vh;
            overflow-y: auto;
            border-radius: 24px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .activity-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .activity-modal-header h3 {
            color: white;
            font-size: 22px;
            margin: 0;
        }
        
        .activity-modal-close {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 18px;
            transition: var(--transition);
        }
        
        .activity-modal-close:hover {
            background: white;
            color: var(--gold);
            transform: rotate(90deg);
        }
        
        .activity-modal-body {
            padding: 25px;
        }
        
        .modal-section {
            margin-bottom: 25px;
        }
        
        .modal-section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .modal-section-title i {
            color: var(--gold);
        }
        
        .activity-options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .activity-option-card {
            border: 2px solid #f0f0f0;
            border-radius: 16px;
            padding: 15px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .activity-option-card:hover {
            border-color: var(--gold);
            transform: translateY(-2px);
        }
        
        .activity-option-card.selected {
            border-color: var(--gold);
            background: rgba(198,164,63,0.05);
        }
        
        .activity-option-card h4 {
            font-size: 16px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .activity-option-card h4 i {
            color: var(--gold);
        }
        
        .activity-option-price {
            font-size: 14px;
            color: var(--gray);
        }
        
        .activity-option-price strong {
            color: var(--gold);
        }
        
        .tente-options {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }
        
        .tente-option {
            flex: 1;
            padding: 15px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .tente-option:hover {
            border-color: var(--gold);
        }
        
        .tente-option.selected {
            background: var(--gold);
            color: white;
            border-color: var(--gold);
        }
        
        .tente-option.selected i {
            color: white;
        }
        
        .tente-option i {
            font-size: 24px;
            color: var(--gold);
            margin-bottom: 8px;
            transition: var(--transition);
        }
        
        .tente-option span {
            display: block;
            font-size: 14px;
        }
        
        .tente-option .price {
            font-weight: 700;
            margin-top: 5px;
        }
        
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 15px 0;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
        }
        
        .checkbox-item input {
            width: 20px;
            height: 20px;
            accent-color: var(--gold);
        }
        
        .input-group {
            margin: 20px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .input-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .input-group input:focus {
            border-color: var(--gold);
            outline: none;
        }
        
        .modal-footer {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .modal-footer .btn {
            flex: 1;
            padding: 15px;
        }
        
        /* ===== FORM ===== */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-group input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            font-family: var(--font-sans);
            font-size: 15px;
            transition: var(--transition);
        }
        
        .form-group input:focus {
            border-color: var(--gold);
            outline: none;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .rib-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 16px;
            margin: 25px 0;
            border-left: 4px solid var(--gold);
        }
        
        .rib-info strong {
            display: block;
            margin-bottom: 10px;
            color: var(--gold);
        }
        
        .rib-number {
            font-family: monospace;
            font-size: 18px;
            background: white;
            padding: 12px;
            border-radius: 8px;
            border: 1px dashed var(--gold);
            margin: 10px 0;
            word-break: break-all;
            text-align: center;
        }
        
        .copy-rib {
            background: none;
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 8px 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            margin-top: 10px;
        }
        
        .copy-rib:hover {
            background: var(--gold);
            color: white;
        }
        
        .terms-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .terms-group input {
            width: 20px;
            height: 20px;
            accent-color: var(--gold);
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            font-size: 16px;
        }
        
        /* ===== NOTIFICATION ===== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-left: 4px solid var(--gold);
            border-radius: 12px;
            padding: 15px 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 10001;
            display: none;
            align-items: center;
            gap: 15px;
            animation: slideInRight 0.3s ease;
        }
        
        .notification.show {
            display: flex;
        }
        
        .notification i {
            font-size: 24px;
            color: var(--gold);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .booking-hero-content h1 {
                font-size: 48px;
            }
            
            .booking-grid {
                grid-template-columns: 1fr;
            }
            
            .booking-summary {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .booking-hero-content h1 {
                font-size: 42px;
            }
            
            .booking-form {
                padding: 25px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 0;
            }
            
            .activity-options-grid {
                grid-template-columns: 1fr;
            }
            
            .tente-options {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .booking-hero-content h1 {
                font-size: 36px;
            }
            
            .modal-footer {
                flex-direction: column;
            }
            
            .notification {
                left: 20px;
                right: 20px;
                width: auto;
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <a href="https://wa.me/212667772551" class="floating-btn whatsapp" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="tel:0667772551" class="floating-btn phone"><i class="fas fa-phone-alt"></i></a>
        <a href="booking.html" class="floating-btn booking"><i class="fas fa-calendar-check"></i></a>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <img src="images/logo.jpeg" alt="Imsfrane Cathédrale">
                    <span class="logo-title">Imsfrane Cathédrale</span>
                </a>
                
                <div class="nav-menu">
                    <a href="index.html">Accueil</a>
                    <a href="activities.html">Activités</a>
                    <a href="memories.html">Mémoires</a>
                    <a href="guide.html">Guide</a>
                    <a href="booking.html" class="active">Réservation</a>
                    <a href="contact.html">Contact</a>
                </div>
                
                <div class="nav-actions">
                    <a href="tel:0667772551" class="nav-phone"><i class="fas fa-phone-alt"></i></a>
                    <button class="search-toggle" id="searchToggle">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="menu-toggle" id="menuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Search Popup -->
    <div class="search-popup" id="searchPopup">
        <div class="search-popup-content">
            <div class="search-popup-header">
                <h3>Rechercher une activité</h3>
                <button class="search-popup-close" id="searchClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="search-popup-body">
                <input type="text" class="search-popup-input" id="popupSearch" placeholder="Camping, Rafting, VTT, Randonnée...">
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="menu-backdrop"></div>
        <div class="menu-panel">
            <div class="menu-header">
                <img src="images/logo.jpeg" alt="Imsfrane">
                <button class="menu-close" id="menuClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="menu-content">
                <a href="index.html" class="menu-item">
                    <div class="item-icon"><i class="fas fa-home"></i></div>
                    <span>Accueil</span>
                </a>
                <a href="activities.html" class="menu-item">
                    <div class="item-icon"><i class="fas fa-hiking"></i></div>
                    <span>Activités</span>
                </a>
                <a href="memories.html" class="menu-item">
                    <div class="item-icon"><i class="fas fa-camera-retro"></i></div>
                    <span>Mémoires</span>
                </a>
                <a href="guide.html" class="menu-item">
                    <div class="item-icon"><i class="fas fa-map-marked-alt"></i></div>
                    <span>Guide</span>
                </a>
                <a href="booking.html" class="menu-item active">
                    <div class="item-icon"><i class="fas fa-calendar-check"></i></div>
                    <span>Réservation</span>
                </a>
                <a href="contact.html" class="menu-item">
                    <div class="item-icon"><i class="fas fa-envelope"></i></div>
                    <span>Contact</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Booking Hero -->
    <section class="booking-hero">
        <div class="booking-hero-bg">
            <img src="images/hero.jpeg" alt="Imsfrane Cathédrale">
            <div class="booking-hero-overlay"></div>
        </div>
        <div class="container">
            <div class="booking-hero-content">
                <span class="section-badge">RÉSERVATION</span>
                <h1>Réservez votre aventure</h1>
                <p>Simple, rapide et sécurisé</p>
            </div>
        </div>
    </section>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationMessage">Activité ajoutée au panier</span>
    </div>

    <!-- Booking Section -->
    <section class="booking-section">
        <div class="container">
            <div class="booking-grid">
                <!-- Formulaire -->
                <div class="booking-form">
                    <h2>Votre panier</h2>
                    <p class="form-subtitle">Sélectionnez les activités que vous souhaitez réserver</p>
                    
                    <!-- Cart Items -->
                    <div id="cartItems" class="cart-items">
                        <div class="cart-empty">
                            <i class="fas fa-shopping-cart"></i>
                            <p>Votre panier est vide</p>
                            <p style="font-size: 14px; margin-top: 10px;">Cliquez sur "Ajouter une activité" pour commencer</p>
                        </div>
                    </div>
                    
                    <!-- Add Activity Button -->
                    <button class="add-activity-btn" onclick="openActivityModal()">
                        <i class="fas fa-plus-circle"></i> Ajouter une activité
                    </button>
                    
                    <!-- Client Information -->
                    <h3 style="margin-bottom: 20px; font-size: 20px;">Vos informations</h3>
                    
                    <form id="bookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Prénom</label>
                                <input type="text" id="firstName" placeholder="Votre prénom" required>
                            </div>
                            
                            <div class="form-group">
                                <label>Nom</label>
                                <input type="text" id="lastName" placeholder="Votre nom" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="email" placeholder="votre@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Téléphone</label>
                            <input type="tel" id="phone" placeholder="06 XX XX XX XX" required>
                        </div>
                        
                        <!-- RIB Information -->
                        <div class="rib-info">
                            <strong><i class="fas fa-university"></i> Informations de virement</strong>
                            <p>Titulaire du compte : <strong>FARID LAYDI</strong></p>
                            <div class="rib-number" id="ribNumber">022780000760004191778274</div>
                            <button type="button" class="copy-rib" onclick="copyRIB()">
                                <i class="fas fa-copy"></i> Copier le RIB
                            </button>
                        </div>
                        
                        <!-- Terms -->
                        <div class="terms-group">
                            <input type="checkbox" id="terms" required>
                            <label for="terms">J'accepte les conditions générales de réservation et je m'engage à effectuer le virement du montant total pour confirmer ma réservation.</label>
                        </div>
                        
                        <!-- Submit Button (disabled initially) -->
                        <button type="button" onclick="submitBooking()" class="btn btn-gold submit-btn" id="submitBtn">
                            <i class="fab fa-whatsapp"></i> Confirmer la réservation
                        </button>
                    </form>
                </div>
                
                <!-- Résumé -->
                <div class="booking-summary">
                    <h3>Résumé de la commande</h3>
                    
                    <div id="summaryItems" class="summary-items">
                        <p class="cart-empty" style="padding: 20px;">Aucune activité</p>
                    </div>
                    
                    <div class="summary-total" id="summaryTotal">
                        <span>Total</span>
                        <span class="amount">0 DH</span>
                    </div>
                    
                    <p style="font-size: 13px; color: var(--gray); margin-top: 15px; text-align: center;">
                        <i class="fas fa-info-circle"></i> Le paiement se fait par virement bancaire. Votre réservation sera confirmée après réception du virement.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Activity Modal -->
    <div class="activity-modal" id="activityModal">
        <div class="activity-modal-content">
            <div class="activity-modal-header">
                <h3><i class="fas fa-plus-circle"></i> Ajouter une activité</h3>
                <button class="activity-modal-close" onclick="closeActivityModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="activity-modal-body">
                <!-- Type d'activité -->
                <div class="modal-section">
                    <div class="modal-section-title">
                        <i class="fas fa-hiking"></i> Type d'activité
                    </div>
                    
                    <div class="activity-options-grid">
                        <!-- Camping -->
                        <div class="activity-option-card" onclick="selectActivity('camping')" id="opt-camping">
                            <h4><i class="fas fa-campground"></i> Camping</h4>
                            <div class="activity-option-price">À partir de <strong>60 DH</strong></div>
                        </div>
                        
                        <!-- Randonnée Sommet -->
                        <div class="activity-option-card" onclick="selectActivity('rando1')" id="opt-rando1">
                            <h4><i class="fas fa-mountain"></i> Sommet 1868m</h4>
                            <div class="activity-option-price"><strong>300 DH</strong> (groupe)</div>
                        </div>
                        
                        <!-- Randonnée Gorges -->
                        <div class="activity-option-card" onclick="selectActivity('rando2')" id="opt-rando2">
                            <h4><i class="fas fa-water"></i> Gorges & Cascades</h4>
                            <div class="activity-option-price"><strong>200 DH</strong></div>
                        </div>
                        
                        <!-- Randonnée Grand Tour -->
                        <div class="activity-option-card" onclick="selectActivity('rando3')" id="opt-rando3">
                            <h4><i class="fas fa-crown"></i> Grand Tour</h4>
                            <div class="activity-option-price"><strong>400 DH</strong></div>
                        </div>
                        
                        <!-- VTT -->
                        <div class="activity-option-card" onclick="selectActivity('vtt')" id="opt-vtt">
                            <h4><i class="fas fa-bicycle"></i> VTT</h4>
                            <div class="activity-option-price"><strong>150 DH</strong>/jour</div>
                        </div>
                        
                        <!-- Rafting 12km -->
                        <div class="activity-option-card" onclick="selectActivity('rafting12')" id="opt-rafting12">
                            <h4><i class="fas fa-water"></i> Rafting 12km</h4>
                            <div class="activity-option-price"><strong>400 DH</strong>/pers</div>
                        </div>
                        
                        <!-- Rafting 50km -->
                        <div class="activity-option-card" onclick="selectActivity('rafting50')" id="opt-rafting50">
                            <h4><i class="fas fa-campground"></i> Rafting 50km</h4>
                            <div class="activity-option-price"><strong>Sur devis</strong></div>
                        </div>
                    </div>
                </div>
                
                <!-- Options Camping (caché par défaut) -->
                <div id="campingOptions" style="display: none;">
                    <div class="modal-section">
                        <div class="modal-section-title">
                            <i class="fas fa-tent"></i> Type de tente
                        </div>
                        
                        <div class="tente-options">
                            <div class="tente-option selected" onclick="selectTente(60, this)">
                                <i class="fas fa-user"></i>
                                <span>1 personne</span>
                                <span class="price">60 DH</span>
                            </div>
                            <div class="tente-option" onclick="selectTente(100, this)">
                                <i class="fas fa-users"></i>
                                <span>2 personnes</span>
                                <span class="price">100 DH</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-section">
                        <div class="modal-section-title">
                            <i class="fas fa-utensils"></i> Options repas
                        </div>
                        
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="modal-breakfast">
                                <span>Petit-déjeuner (+40 DH/pers)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="modal-lunch">
                                <span>Déjeuner (+50 DH/pers)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" id="modal-dinner">
                                <span>Dîner (+50 DH/pers)</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Informations communes -->
                <div class="modal-section">
                    <div class="modal-section-title">
                        <i class="fas fa-calendar"></i> Date
                    </div>
                    <div class="input-group">
                        <input type="date" id="modal-date" required>
                    </div>
                </div>
                
                <div class="modal-section">
                    <div class="modal-section-title">
                        <i class="fas fa-users"></i> Nombre de personnes
                    </div>
                    <div class="input-group">
                        <input type="number" id="modal-people" value="1" min="1" max="50">
                    </div>
                </div>
                
                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button class="btn btn-gold" onclick="addToCart()">
                        <i class="fas fa-cart-plus"></i> Ajouter au panier
                    </button>
                    <button class="btn btn-outline" onclick="closeActivityModal()">
                        Annuler
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Premium -->
    <footer class="footer-premium">
        <div class="container">
            <div class="footer-founder">
                <div class="founder-highlight">
                    <div class="founder-image-large">
                        <img src="images/logo.jpeg" alt="Imsfrane Cathédrale">
                    </div>
                    <div class="founder-info-premium">
                        <span class="founder-tag">À PROPOS</span>
                        <h2 class="founder-name">Imsfrane Cathédrale</h2>
                        <p class="founder-desc">
                            Découvrez la magie de l'Atlas à travers des expériences uniques et authentiques.
                            Notre équipe de guides locaux vous accompagne pour des aventures inoubliables.
                        </p>
                        
                        <div class="founder-stats-premium">
                            <div class="stat-item">
                                <span class="stat-number">+500</span>
                                <span class="stat-label">Aventuriers</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">8 ans</span>
                                <span class="stat-label">d'expérience</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">⭐ 4.9</span>
                                <span class="stat-label">Avis</span>
                            </div>
                        </div>
                        
                        <div class="founder-social-premium">
                            <a href="https://www.facebook.com/share/1BRARgWsKv/" target="_blank" class="social-icon facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="https://www.instagram.com/imsfrane_cathedrale" target="_blank" class="social-icon instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://www.tiktok.com/@imsfrane_cathedrale" target="_blank" class="social-icon tiktok">
                                <i class="fab fa-tiktok"></i>
                            </a>
                            <a href="https://wa.me/212667772551" class="social-icon whatsapp">
                                <i class="fab fa-whatsapp"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-divider"></div>
            
            <div class="footer-bottom-premium">
                <div class="footer-brand">
                    <img src="images/logo.jpeg" alt="Imsfrane" class="footer-logo">
                    <div class="footer-brand-text">
                        <h3>Imsfrane Cathédrale</h3>
                        <p>Montagne Sacrée de l'Atlas · 1 868m</p>
                    </div>
                </div>
                
                <div class="footer-links-premium">
                    <a href="index.html">Accueil</a>
                    <a href="activities.html">Activités</a>
                    <a href="memories.html">Mémoires</a>
                    <a href="guide.html">Guide</a>
                    <a href="booking.html">Réservation</a>
                    <a href="contact.html">Contact</a>
                </div>
                
                <div class="footer-contact-premium">
                    <div class="contact-item">
                        <i class="fas fa-phone-alt"></i>
                        <a href="tel:0667772551">06 67 77 25 51</a>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-whatsapp"></i>
                        <a href="https://wa.me/212667772551">WhatsApp</a>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Imsfrane Tilouguite, Azilal</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-university"></i>
                        <span class="rib-text">RIB: 022780000760004191778274</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-copyright">
                <p>© 2026 Imsfrane Cathédrale · Tous droits réservés</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== SYSTÈME DE PANIER =====
        let cart = [];
        let currentActivity = null;
        let tentePrice = 60;
        let tenteType = '1personne';

        // Notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const messageEl = document.getElementById('notificationMessage');
            messageEl.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Modal functions
        function openActivityModal() {
            document.getElementById('activityModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Reset selections
            document.querySelectorAll('.activity-option-card').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById('campingOptions').style.display = 'none';
            document.getElementById('modal-people').value = 1;
            
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('modal-date').min = today;
            document.getElementById('modal-date').value = today;
        }

        function closeActivityModal() {
            document.getElementById('activityModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function selectActivity(activity) {
            currentActivity = activity;
            
            document.querySelectorAll('.activity-option-card').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById(`opt-${activity}`).classList.add('selected');
            
            // Show/hide camping options
            if (activity === 'camping') {
                document.getElementById('campingOptions').style.display = 'block';
            } else {
                document.getElementById('campingOptions').style.display = 'none';
            }
        }

        function selectTente(price, element) {
            tentePrice = price;
            tenteType = price === 60 ? '1personne' : '2personnes';
            
            document.querySelectorAll('.tente-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
        }

        function addToCart() {
            if (!currentActivity) {
                alert('Veuillez choisir une activité');
                return;
            }
            
            const people = parseInt(document.getElementById('modal-people').value);
            const date = document.getElementById('modal-date').value;
            
            let activityName = '';
            let price = 0;
            let details = [];
            
            switch(currentActivity) {
                case 'camping':
                    activityName = 'Camping sauvage';
                    price = tentePrice;
                    details.push(`Tente ${tenteType === '1personne' ? '1 personne' : '2 personnes'}`);
                    
                    if (document.getElementById('modal-breakfast').checked) {
                        price += 40;
                        details.push('Petit-déj');
                    }
                    if (document.getElementById('modal-lunch').checked) {
                        price += 50;
                        details.push('Déjeuner');
                    }
                    if (document.getElementById('modal-dinner').checked) {
                        price += 50;
                        details.push('Dîner');
                    }
                    break;
                case 'rando1':
                    activityName = 'Randonnée - Sommet 1868m';
                    price = 300;
                    break;
                case 'rando2':
                    activityName = 'Randonnée - Gorges & Cascades';
                    price = 200;
                    break;
                case 'rando3':
                    activityName = 'Randonnée - Grand Tour';
                    price = 400;
                    break;
                case 'vtt':
                    activityName = 'VTT Exploration';
                    price = 150;
                    break;
                case 'rafting12':
                    activityName = 'Rafting 12km';
                    price = 400;
                    if (people >= 20) price = 350;
                    break;
                case 'rafting50':
                    activityName = 'Rafting 50km (sur devis)';
                    price = 0;
                    break;
            }
            
            const total = currentActivity === 'rafting50' ? 0 : price * (currentActivity === 'camping' ? 1 : people);
            
            cart.push({
                id: Date.now() + Math.random(),
                activity: activityName,
                people: people,
                date: date,
                price: price,
                total: total,
                details: details
            });
            
            updateCart();
            closeActivityModal();
            showNotification('Activité ajoutée au panier');
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCart();
            showNotification('Activité retirée du panier');
        }

        function updateCart() {
            const cartEl = document.getElementById('cartItems');
            const summaryEl = document.getElementById('summaryItems');
            const totalEl = document.getElementById('summaryTotal').querySelector('.amount');
            let totalAmount = 0;
            
            if (cart.length === 0) {
                cartEl.innerHTML = `
                    <div class="cart-empty">
                        <i class="fas fa-shopping-cart"></i>
                        <p>Votre panier est vide</p>
                        <p style="font-size: 14px; margin-top: 10px;">Cliquez sur "Ajouter une activité" pour commencer</p>
                    </div>
                `;
                summaryEl.innerHTML = `<p class="cart-empty" style="padding: 20px;">Aucune activité</p>`;
                totalEl.textContent = '0 DH';
                return;
            }
            
            let cartHtml = '';
            let summaryHtml = '';
            
            cart.forEach(item => {
                totalAmount += item.total;
                
                const dateFormatted = new Date(item.date).toLocaleDateString('fr-FR', {
                    day: 'numeric',
                    month: 'short'
                });
                
                cartHtml += `
                    <div class="cart-item">
                        <button class="cart-item-remove" onclick="removeFromCart(${item.id})">
                            <i class="fas fa-times"></i>
                        </button>
                        <div class="cart-item-header">
                            <span class="cart-item-title">${item.activity}</span>
                            <span class="cart-item-price">${item.total > 0 ? item.total + ' DH' : 'Sur devis'}</span>
                        </div>
                        <div class="cart-item-details">
                            <span><i class="fas fa-users"></i> ${item.people} pers</span>
                            <span><i class="fas fa-calendar"></i> ${dateFormatted}</span>
                        </div>
                        ${item.details && item.details.length > 0 ? `
                            <div style="margin-top: 8px; font-size: 12px; color: var(--gold);">
                                <i class="fas fa-check"></i> ${item.details.join(' · ')}
                            </div>
                        ` : ''}
                    </div>
                `;
                
                summaryHtml += `
                    <div class="summary-item">
                        <span>${item.activity} (${item.people} pers)</span>
                        <span>${item.total > 0 ? item.total + ' DH' : 'Sur devis'}</span>
                    </div>
                `;
            });
            
            cartEl.innerHTML = cartHtml;
            summaryEl.innerHTML = summaryHtml;
            totalEl.textContent = totalAmount + ' DH';
        }

        function submitBooking() {
            if (cart.length === 0) {
                alert('Votre panier est vide');
                return;
            }
            
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const terms = document.getElementById('terms').checked;
            
            if (!firstName || !lastName || !email || !phone) {
                alert('Veuillez remplir tous vos informations');
                return;
            }
            
            if (!terms) {
                alert('Veuillez accepter les conditions');
                return;
            }
            
            const total = document.getElementById('summaryTotal').querySelector('.amount').textContent;
            
            let msg = `*NOUVELLE RÉSERVATION*\n\n`;
            msg += `👤 *Client:* ${firstName} ${lastName}\n`;
            msg += `📧 *Email:* ${email}\n`;
            msg += `📞 *Téléphone:* ${phone}\n\n`;
            msg += `📋 *ACTIVITÉS RÉSERVÉES:*\n`;
            
            cart.forEach(item => {
                const date = new Date(item.date).toLocaleDateString('fr-FR');
                msg += `- ${item.activity} (${item.people} pers, ${date}): ${item.total > 0 ? item.total + ' DH' : 'Sur devis'}\n`;
            });
            
            msg += `\n💰 *TOTAL:* ${total}\n\n`;
            msg += `*RIB POUR VIREMENT:*\n`;
            msg += `022780000760004191778274\n`;
            msg += `Titulaire: FARID LAYDI`;
            
            window.open(`https://wa.me/212667772551?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function copyRIB() {
            const rib = document.getElementById('ribNumber').textContent;
            navigator.clipboard.writeText(rib).then(() => {
                showNotification('RIB copié !');
            });
        }

        // Search Popup
        document.getElementById('searchToggle').addEventListener('click', function() {
            document.getElementById('searchPopup').classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        document.getElementById('searchClose').addEventListener('click', function() {
            document.getElementById('searchPopup').classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Mobile Menu
        document.getElementById('menuToggle').addEventListener('click', function() {
            document.getElementById('mobileMenu').classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        document.getElementById('menuClose').addEventListener('click', function() {
            document.getElementById('mobileMenu').classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        document.querySelector('.menu-backdrop').addEventListener('click', function() {
            document.getElementById('mobileMenu').classList.remove('active');
            document.body.style.overflow = 'auto';
        });
    </script>
</body>
</html>